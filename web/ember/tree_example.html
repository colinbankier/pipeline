<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
        window.ENV = window.ENV || {};
        ENV.EXPERIMENTAL_CONTROL_HELPER = true;
</script>
  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-1.1.2.js"></script>
  <script src="js/libs/ember-1.2.0.js"></script>
  <script src="tree_example.js"></script>
<meta charset=utf-8 />
<meta charset=utf-8 />
<title>Ember.js Tree Example With Selection</title>
</head>
<body>
  
<script data-template-name="application" type="text/x-handlebars">
    <h1>Ember.js Tree Example With Selection</h1>
    <p style="color:green;">Click a node to add a child to it.</p>
    {{control "treeBranch" App.treeRoot}}
    {{#if App.selectedNodes.length}}
        <p>You have selected:</p>
        <ul>
            {{#each node in App.selectedNodes}}
                <li>{{node.text}}</li>
            {{/each}}
        </ul>
    {{else}}
        <p>Try to select some nodes.</p>
    {{/if}}
    <p><a href="http://billysbilling.com/blog/How-to-implement-a-tree-in-Ember-js">Read the blog post</a></p>
</script>

<script data-template-name="tree" type="text/x-handlebars">
    {{control "treeBranch" content}}
</script>

<script data-template-name="tree-branch" type="text/x-handlebars">
    {{each children itemController="treeNode" itemViewClass="App.TreeNodeView"}}
</script>

<script data-template-name="tree-node" type="text/x-handlebars">
    <span {{bindAttr class=":toggle-icon children.length::leaf"}} {{action toggle}}>
        {{#if isExpanded}}
            &#x25BC;
        {{else}}
            &#x25B6;
        {{/if}}
    </span>
    {{view Ember.Checkbox checkedBinding="checked"}}
    <a {{action addChild}} class="text">{{text}}</a>
    {{#if isExpanded}}
        {{control "treeBranch" content}}
    {{/if}}
</script>
  
</body>
</html>
